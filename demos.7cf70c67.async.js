"use strict";(self.webpackChunkreact_mapboxgl_zt=self.webpackChunkreact_mapboxgl_zt||[]).push([[433],{49217:function(W,d,o){o.r(d),o.d(d,{default:function(){return P}});var b=o(27424),_=o.n(b),E=o(56690),A=o.n(E),M=o(89728),U=o.n(M),j=o(38416),B=o.n(j),n=o(67294),r=o(15319),t=o(85893),L=(0,r.MapFactory)({accessToken:"pk.eyJ1IjoiMnBpYyIsImEiOiJjbTczaXFxbGwwMGNtMm9zYjhjcW1hd3ZkIn0.YCpsYVQawB15Cf5Zyljscg"}),F=null;function P(){var p=(0,n.useState)("/imgs/background1.jpg"),s=_()(p,2),m=s[0],K=s[1],D=(0,n.useState)("/imgs/icon.png"),g=_()(D,2),H=g[0],w=g[1],O=(0,n.useState)("#f00"),C=_()(O,2),c=C[0],N=C[1],R=(0,n.useState)({type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[113.90310757834482,22.541427196370165],type:"Point"}},{type:"Feature",properties:{},geometry:{coordinates:[113.91668147739654,22.52511855694496],type:"Point"}}]}}),f=_()(R,2),Y=f[0],$=f[1],z=(0,n.useState)("title"),h=_()(z,2),v=h[0],k=h[1],x=(0,n.useRef)(null),u=(0,n.useRef)(null),y=(0,n.useRef)(null),I=function(){var e,l;(e=x.current)===null||e===void 0||e.setUnit("nautical"),k(v==="title"?"title2":"title"),console.log(y.current),(l=u.current)===null||l===void 0||l.setLngLat([113.90310757834482,22.541427196370165])},S=function(e){var l,i;(l=u.current)===null||l===void 0||l.setLngLat(e.lngLat),(i=u.current)===null||i===void 0||i.setText(e.lngLat.toString())},T=function(e){console.log(e)};return(0,t.jsx)("div",{style:{height:"20rem"},children:(0,t.jsx)("div",{style:{height:"80%",border:"1px solid black"},children:(0,t.jsxs)(L,{onMapLoad:T,children:[(0,t.jsx)("button",{type:"button",onClick:I,style:{position:"absolute",zIndex:1e3},children:"\u6539\u53D8\u989C\u8272"}),(0,t.jsxs)(r.Popup,{ref:u,lngLat:[113.90310757834482,22.541427196370165],onOpen:function(e){return console.log(e)},onClose:function(e){return console.log(e.target.getLngLat())},children:[123213,(0,t.jsx)("div",{style:{backgroundColor:"#f40"},children:v}),(0,t.jsx)("div",{children:"content"})]}),(0,t.jsx)(r.Marker,{ref:y,draggable:!0,onDragEnd:function(e){return console.log(e.target.getLngLat())}}),(0,t.jsx)(r.MousePositionControl,{}),(0,t.jsx)(r.FullscreenControl,{}),(0,t.jsx)(r.ScaleControl,{ref:x}),(0,t.jsx)(r.NavigationControl,{}),(0,t.jsx)(r.CircleLayer,{id:"circle",color:c,opacity:.5,source:{type:"vector",url:"mapbox://mapbox.mapbox-streets-v6"},sourceLayer:"water",onClick:S}),(0,t.jsx)(r.FillLayer,{id:"fill",color:c,source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{coordinates:[[[113.91050389786739,22.53917900246715],[113.90865023135945,22.534556311568096],[113.91828929730542,22.531131996380907],[113.92343322222297,22.539179002551137],[113.91050389786739,22.53917900246715]]],type:"Polygon"}}]}},imgUrl:m}),(0,t.jsx)(r.LineLayer,{id:"line",color:c,source:{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{a:1},geometry:{coordinates:[[113.9086931063199,22.532889051350935],[113.90725732733108,22.530536146907636],[113.90813732090567,22.52642916311092],[113.91818777387965,22.530792829342246],[113.9174930421097,22.535498589395118]],type:"LineString"}}]},lineMetrics:!0},gradient:void 0,width:10,onClick:function(e){return console.log(e.features)}})]})})})}}}]);
